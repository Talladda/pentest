from flask import Flask, render_template, request
from get_ip_list import get_ip_list
from nmap_os import scan_ip

app = Flask(__name__)




@app.route("/")
def index():
	return render_template ('index.html')



@app.route("/result/", methods=['POST'])
def result():
	domain=request.form.get('domain')
	ip_list=get_ip_list(domain)
	nmap_results=[]
	for ip in ip_list:
		nmap_result=scan_ip(ip)
		print(nmap_result)
		nmap_results.append(nmap_result)
	return render_template('result.html', domain=domain, ip_list=ip_list, nmap_results=nmap_results)


if __name__ == "__main__":
    app.run(debug=True)